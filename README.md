# PPT å±•ç¤ºç³»ç»Ÿ

åŸºäº Next.js SSR + Socket.io å®ç°çš„å®æ—¶PPTå±•ç¤ºç³»ç»Ÿï¼Œæ”¯æŒå±•ç¤ºç«¯å’Œæ§åˆ¶ç«¯åˆ†ç¦»ï¼Œå®æ—¶åŒæ­¥æ’­æ”¾æ§åˆ¶ã€‚

## åŠŸèƒ½ç‰¹æ€§

- ğŸ¯ **åŒç«¯åˆ†ç¦»**ï¼šå±•ç¤ºç«¯å’Œæ§åˆ¶ç«¯ç‹¬ç«‹è¿è¡Œ
- ğŸ”„ **å®æ—¶åŒæ­¥**ï¼šåŸºäº WebSocket çš„å®æ—¶çŠ¶æ€åŒæ­¥
- ğŸ–¼ï¸ **å¤šåª’ä½“æ”¯æŒ**ï¼šæ”¯æŒå›¾ç‰‡å’Œè§†é¢‘ä½œä¸ºèƒŒæ™¯
- ğŸ¨ **UI å åŠ **ï¼šå¯åœ¨èƒŒæ™¯ä¸Šå åŠ æ–‡å­—ã€å›¾å½¢ç­‰UIå…ƒç´ 
- ğŸ“± **å“åº”å¼è®¾è®¡**ï¼šé€‚é…ä¸åŒå±å¹•å°ºå¯¸

## æŠ€æœ¯æ ˆ

- **å‰ç«¯æ¡†æ¶**: Next.js 14+ (App Router)
- **è¯­è¨€**: TypeScript
- **å®æ—¶é€šä¿¡**: Socket.io
- **çŠ¶æ€ç®¡ç†**: Zustand
- **è§†é¢‘æ’­æ”¾**: react-player
- **åŠ¨ç”»**: Framer Motion
- **æœåŠ¡å™¨**: Express + è‡ªå®šä¹‰æœåŠ¡å™¨

## å¿«é€Ÿå¼€å§‹

### å®‰è£…ä¾èµ–

```bash
npm install
```

### å¼€å‘æ¨¡å¼

```bash
npm run dev
```

å¯åŠ¨åè®¿é—®ï¼š
- **å±•ç¤ºç«¯**: http://localhost:3000/display
- **æ§åˆ¶ç«¯**: http://localhost:3000/control

### ç”Ÿäº§æ„å»º

```bash
npm run build
npm start
```

## ä½¿ç”¨è¯´æ˜

### é…ç½®PPTå†…å®¹

PPTå†…å®¹åœ¨ `config/slides.ts` æ–‡ä»¶ä¸­ç¡¬ç¼–ç é…ç½®ï¼š

```typescript
export const defaultSlides: Slide[] = [
  {
    id: 1,
    type: 'image',
    url: '/assets/images/slide1.jpg',
  },
  {
    id: 2,
    type: 'video',
    url: '/assets/videos/intro.mp4',
  },
  // æ·»åŠ æ›´å¤šå¹»ç¯ç‰‡...
];
```

**ç´ æå­˜æ”¾ä½ç½®**ï¼š
- å°†å›¾ç‰‡å’Œè§†é¢‘æ–‡ä»¶æ”¾åœ¨ `public/assets/` ç›®å½•ä¸‹
- ä½¿ç”¨ç›¸å¯¹è·¯å¾„ï¼Œå¦‚ï¼š`/assets/images/slide1.jpg`

### æ§åˆ¶ç«¯æ“ä½œ

1. æ‰“å¼€æ§åˆ¶ç«¯é¡µé¢ (`/control`)
2. ä½¿ç”¨æ§åˆ¶é¢æ¿ï¼š
   - ç‚¹å‡»é¡µç å¿«é€Ÿè·³è½¬
   - ä½¿ç”¨"ä¸Šä¸€é¡µ"/"ä¸‹ä¸€é¡µ"æŒ‰é’®åˆ‡æ¢
   - ç‚¹å‡»"æ’­æ”¾"/"æš‚åœ"æ§åˆ¶æ’­æ”¾çŠ¶æ€
   - æ”¯æŒé”®ç›˜å¿«æ·é”®ï¼šâ† ä¸Šä¸€é¡µï¼Œâ†’ ä¸‹ä¸€é¡µï¼Œç©ºæ ¼ æ’­æ”¾/æš‚åœ

### å±•ç¤ºç«¯

1. æ‰“å¼€å±•ç¤ºç«¯é¡µé¢ (`/display`)
2. å±•ç¤ºç«¯ä¼šè‡ªåŠ¨åŠ è½½é…ç½®çš„PPTå†…å®¹
3. å±•ç¤ºç«¯ä¼šè‡ªåŠ¨åŒæ­¥æ§åˆ¶ç«¯çš„æ“ä½œ
4. å…¨å±æ˜¾ç¤ºå½“å‰å¹»ç¯ç‰‡å†…å®¹

## é¡¹ç›®ç»“æ„

```
project/
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ display/          # å±•ç¤ºç«¯é¡µé¢
â”‚   â”œâ”€â”€ control/          # æ§åˆ¶ç«¯é¡µé¢
â”‚   â””â”€â”€ layout.tsx        # æ ¹å¸ƒå±€
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ display/          # å±•ç¤ºç«¯ç»„ä»¶
â”‚   â””â”€â”€ control/          # æ§åˆ¶ç«¯ç»„ä»¶
â”œâ”€â”€ config/
â”‚   â””â”€â”€ slides.ts         # PPTå†…å®¹é…ç½®ï¼ˆç¡¬ç¼–ç ï¼‰
â”œâ”€â”€ server/
â”‚   â”œâ”€â”€ index.ts          # æœåŠ¡å™¨å…¥å£
â”‚   â””â”€â”€ socket.ts         # Socket.io é€»è¾‘
â”œâ”€â”€ stores/               # Zustand çŠ¶æ€ç®¡ç†
â”œâ”€â”€ hooks/                # è‡ªå®šä¹‰ Hooks
â”œâ”€â”€ types/                # TypeScript ç±»å‹å®šä¹‰
â””â”€â”€ public/
    â””â”€â”€ assets/           # ç´ æç›®å½•ï¼ˆå›¾ç‰‡ã€è§†é¢‘ï¼‰
```

## æ‰©å±•åŠŸèƒ½

### æ·»åŠ PPTé¡µé¢

åœ¨ `config/slides.ts` ä¸­æ·»åŠ æ–°çš„å¹»ç¯ç‰‡ï¼š

```typescript
{
  id: 3,
  type: 'image',  // æˆ– 'video'
  url: '/assets/images/slide3.jpg',
}
```

### æ·»åŠ  UI å åŠ å…ƒç´ 

åœ¨ `components/display/DisplaySlide.tsx` ä¸­çš„ UI å åŠ å±‚éƒ¨åˆ†æ·»åŠ ä½ çš„å†…å®¹ï¼š

```tsx
<div style={{ zIndex: 2, ... }}>
  {/* åœ¨è¿™é‡Œæ·»åŠ ä½ çš„ UI å…ƒç´  */}
  <motion.div>æ ‡é¢˜</motion.div>
</div>
```

### è‡ªå®šä¹‰åŠ¨ç”»

ä½¿ç”¨ Framer Motion åœ¨ `DisplaySlide.tsx` ä¸­æ·»åŠ é¡µé¢åˆ‡æ¢åŠ¨ç”»ã€‚

### æ·»åŠ æ›´å¤šæ§åˆ¶åŠŸèƒ½

åœ¨ `server/socket.ts` ä¸­æ·»åŠ æ–°çš„ Socket äº‹ä»¶å¤„ç†ã€‚

## æ³¨æ„äº‹é¡¹

1. **åª’ä½“ URL**ï¼šç¡®ä¿å›¾ç‰‡å’Œè§†é¢‘çš„ URL å¯ä»¥è·¨åŸŸè®¿é—®ï¼ˆæˆ–é…ç½® CORSï¼‰
2. **è§†é¢‘æ ¼å¼**ï¼šreact-player æ”¯æŒå¤šç§è§†é¢‘æ ¼å¼ï¼ˆMP4ã€WebMã€HLS ç­‰ï¼‰
3. **ç½‘ç»œå»¶è¿Ÿ**ï¼šå®æ—¶åŒæ­¥å¯èƒ½å—ç½‘ç»œå½±å“ï¼Œå»ºè®®åœ¨åŒä¸€ç½‘ç»œç¯å¢ƒä¸‹ä½¿ç”¨
4. **æµè§ˆå™¨å…¼å®¹**ï¼šå»ºè®®ä½¿ç”¨ç°ä»£æµè§ˆå™¨ï¼ˆChromeã€Firefoxã€Safari æœ€æ–°ç‰ˆæœ¬ï¼‰

## å¼€å‘å»ºè®®

- å±•ç¤ºç«¯å»ºè®®ä½¿ç”¨å…¨å±æ¨¡å¼ï¼ˆF11ï¼‰è·å¾—æœ€ä½³ä½“éªŒ
- æ§åˆ¶ç«¯å¯ä»¥åŒæ—¶æ‰“å¼€å¤šä¸ªæ ‡ç­¾é¡µè¿›è¡Œå¤šå±å±•ç¤º
- ç”Ÿäº§ç¯å¢ƒå»ºè®®é…ç½® HTTPS ä»¥æ”¯æŒ WebSocket å®‰å…¨è¿æ¥

## License

MIT

